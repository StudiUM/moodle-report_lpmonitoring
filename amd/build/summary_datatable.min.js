define(["jquery","report_lpmonitoring/paginated_datatable","report_lpmonitoring/colorcontrast"],function(a,b,c){var d=function(d,e,f,g,h,i){this.tableSelector=d,this.summaryfilterName=e,this.searchSelector=f,this.totalSelector=g,this.coursesSelector=h,this.activitiesSelector=i;var j=this;a(document).ready(function(){var e=c.init();e.apply(".summary-table .total-cell, .summary-table  .course-cell, .summary-table  .cm-cell"),b.apply(j.tableSelector,!1,!1),a(j.searchSelector).on("input",function(){j.performSearch()}),a("input[type=radio][name="+j.summaryfilterName+"]").change(function(){j.courseActivityFilter(),j.performSearch()}),a("#scale-filter-summary").on("change",function(){j.summarySelectScale()}),a(d).show(),j.courseActivityFilter(),j.summarySelectScale(),j.performSearch()})};return d.prototype.tableSelector=null,d.prototype.summaryfilterName=null,d.prototype.searchSelector=null,d.prototype.totalSelector=null,d.prototype.coursesSelector=null,d.prototype.activitiesSelector=null,d.prototype.performSearch=function(){a(this.tableSelector).DataTable().column(0).search(a(this.searchSelector).val(),!1,!1).draw()},d.prototype.courseActivityFilter=function(){var b=this,c=a("input[type=radio][name="+b.summaryfilterName+"]:checked").val(),d="";d="course"===c?"course-cell":"module"===c?"cm-cell":"total-cell",a(b.tableSelector+" thead tr th").each(function(c){if(c>0){var e=a(b.tableSelector).DataTable().column(c),f=e.header(),g=a(this).hasClass(d);a(f).toggleClass("switchsearchhidden",!g),a(this).toggleClass("switchsearchhidden",!g),e.nodes().to$().toggleClass("switchsearchhidden",!g)}})},d.prototype.summarySelectScale=function(){var b=a("#scale-filter-summary").val();a(this.tableSelector).data("scaleid")==b?(a(this.tableSelector).parents(".table-scroll").show(),this.performSearch()):a(this.tableSelector).parents(".table-scroll").hide()},{init:function(a,b,c,e,f,g){return new d(a,b,c,e,f,g)}}});