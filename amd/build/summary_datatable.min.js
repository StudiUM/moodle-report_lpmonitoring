define(["jquery","report_lpmonitoring/paginated_datatable"],function(a,b){var c=function(c,d,e,f,g,h){this.tableSelector=c,this.summaryfilterName=d,this.searchSelector=e,this.totalSelector=f,this.coursesSelector=g,this.activitiesSelector=h;var i=this;a(document).ready(function(){b.apply(i.tableSelector,!1,!1),a(i.searchSelector).on("input",function(){i.performSearch()}),a("input[type=radio][name="+i.summaryfilterName+"]").change(function(){i.courseActivityFilter(),i.performSearch()}),a("#scale-filter-summary").on("change",function(){i.summarySelectScale()}),a(c).show(),i.courseActivityFilter(),i.summarySelectScale(),i.performSearch()})};return c.prototype.tableSelector=null,c.prototype.summaryfilterName=null,c.prototype.searchSelector=null,c.prototype.totalSelector=null,c.prototype.coursesSelector=null,c.prototype.activitiesSelector=null,c.prototype.performSearch=function(){a(this.tableSelector).DataTable().column(0).search(a(this.searchSelector).val(),!1,!1).draw()},c.prototype.courseActivityFilter=function(){var b=this,c=a("input[type=radio][name="+b.summaryfilterName+"]:checked").val(),d="";d="course"===c?"course-cell":"module"===c?"cm-cell":"total-cell",a(b.tableSelector+" thead tr th").each(function(c){if(c>0){var e=a(b.tableSelector).DataTable().column(c),f=e.header(),g=a(this).hasClass(d);a(f).toggleClass("switchsearchhidden",!g),a(this).toggleClass("switchsearchhidden",!g),e.nodes().to$().toggleClass("switchsearchhidden",!g)}})},c.prototype.summarySelectScale=function(){var b=a("#scale-filter-summary").val();a(this.tableSelector).data("scaleid")==b?(a(this.tableSelector).parents(".table-scroll").show(),this.performSearch()):a(this.tableSelector).parents(".table-scroll").hide()},{init:function(a,b,d,e,f,g){return new c(a,b,d,e,f,g)}}});