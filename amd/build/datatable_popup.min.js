define ("report_lpmonitoring/datatable_popup",["jquery","core/notification","core/str","core/ajax","core/templates","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f,g){var h=function(b,c){a(b).on("click",c,this._handleClick.bind(this))};h.prototype.focusContentItem=function(a){if(a.is("input:not([type=\"hidden\"]), a[href], button, textarea, select, [tabindex]")){a.focus()}else{a.find("input:not([type=\"hidden\"]), a[href], button, textarea, select, [tabindex]").first().focus()}};h.prototype._handleClick=function(c){c.preventDefault();var e=a(c.target),f=a(e).data("competencyid"),g=a(e).data("elementid"),h=a(e).data("userid"),i=a(e).data("type");if("cm"==i){var j=d.call([{methodname:"tool_cmcompetency_data_for_user_competency_summary_in_coursemodule",args:{userid:h,competencyid:f,cmid:g}},{methodname:"tool_cmcompetency_user_competency_viewed_in_coursemodule",args:{userid:h,competencyid:f,cmid:g}}])}else{var j=d.call([{methodname:"report_lpmonitoring_data_for_user_competency_summary_in_course",args:{userid:h,competencyid:f,courseid:g}},{methodname:"report_lpmonitoring_user_competency_viewed_in_course",args:{userid:h,competencyid:f,courseid:g}}])}a.when.apply(a,j).then(function(a){this._contextLoaded.bind(this)(a,e)}.bind(this)).catch(b.exception)};h.prototype._contextLoaded=function(a,d){var h=this;a.displayuser=!0;a.usercompetencysummary.cangrade=!1;var i="tool_lp/user_competency_summary_in_course";if("undefined"!=typeof a.coursemodule){i="report_cmcompetency/user_competency_summary_in_coursemodule"}return c.get_string("usercompetencysummary","report_competency").done(function(b){return f.create({type:f.types.DEFAULT,title:b,body:e.render(i,a),large:!0},d).done(function(a){a.getRoot().on(g.hidden,function(){h.focusContentItem(d);a.destroy()});a.show()}.bind(this))}).fail(b.exception)};return h});
//# sourceMappingURL=datatable_popup.min.js.map
